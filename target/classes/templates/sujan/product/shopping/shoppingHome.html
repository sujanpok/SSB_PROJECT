<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	th:replace="sujan/common/common::layout(~{::section})">
<section>
<head>
<meta charset="utf-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="description" content="" />
<meta name="author" content="" />
<!-- Bootstrap icons-->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css"
	rel="stylesheet" />
<!-- Core theme CSS (includes Bootstrap)-->
<link rel="stylesheet" th:href="@{/css/sujan/shoppingHome.css}" />
<script th:src="@{/js/sujan/shoppingCart.js}"></script> 
	

	</head>
	<body>
	
		<div class="container">
			<!-- Navigation-->
			<nav class="navbar navbar-expand-lg navbar-light bg-light">
				<div class="container px-4 px-lg-5">
					<button class="navbar-toggler" type="button"
						data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
						aria-controls="navbarSupportedContent" aria-expanded="false"
						aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<p class="text-end ">
						<a class="btn btn-outline-dark" type="button"
							th:href="@{/returnHome}">ホームページ 戻る </a>
					</p>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
							<li class="nav-item dropdown"><a
								class="nav-link dropdown-toggle" id="navbarDropdown" href="#"
								role="button" data-bs-toggle="dropdown" aria-expanded="false">Shop</a>
								<ul class="dropdown-menu" aria-labelledby="navbarDropdown">
									<li><a class="dropdown-item" href="#!">All Products</a></li>
									<li><hr class="dropdown-divider" /></li>
									<li><a class="dropdown-item" href="#!">Popular Items</a></li>
									<li><a class="dropdown-item" href="#!">New Arrivals</a></li>
								</ul></li>
						</ul>
						<div class="d-flex">
							<a class="btn btn-outline-dark" type="button"
								th:href="@{/cart}"> <i
								class="bi-cart-fill me-1"></i> Cart <span
								class="badge bg-dark text-white ms-1 rounded-pill">0</span>
							</a>
						</div>
					</div>
				</div>
			</nav>
			<!-- Header-->
			<header class="bg-dark py-5">
				<div class="container px-4 px-lg-5 my-5">
					<div class="text-center text-white">
						<h1 class="display-4 fw-bolder">ようこそへ</h1>
						<p class="lead fw-normal text-white-50 mb-0">With this shop</p>
					</div>
				</div>
			</header>
			<!-- Section-->
			<section class="py-5">
				<div class="row">
					<div class="col-md-4" th:each="product : ${productList}">
						<div class="card">
							<div class="badge bg-dark text-white position-absolute"
								style="top: 0.5rem; right: 0.5rem">New!</div>
							<div class="badge bg-dark text-white position-absolute"
								style="top: 0.5rem; left: 0.5rem">BestSeller!</div>
							<img class="card-img-top" id="proImage"  th:value="${product.productImageUrl}" th:src="${product.productImageUrl}"
								alt="Card image cap">
							<div class="card-body text-center">
								<h5 class="card-title" id="proName" th:text="${product.productName}" th:value="${product.productName}">Product
									1</h5>
								<p class="card-text">testtesttesttesttesttesttesttesttesttesttesttesttesttest</p>
								<div>
									<strong class="col-sm-4 col-form-label" id="proPrize" th:value="${product.productPrize}"
										th:utext="'<h4>単価  :  ' + ${product.productPrize} +'円' + '</h4>'"></strong>
								</div>
								<form th:object="${cartDto}" id="form3" name="form3" th:action="@{/shoppingSite/cart}" method="post">
									<div class="input-group mb-3">
										<label class="col-sm-4 col-form-label" for="quantity">Quantity</label>
										<div class="col-sm-4">
											<input type="number" class="form-control form-control-sm"
												id="quantity" min="1" max="10" th:value="${pQty}" th:text="${pQty}" th:field="*{pQty}">
											
							<input type="hidden" id="pName" name="pName" th:text="${pName}"  th:value="${pName}" th:field="*{pName}">
							
							<input type="text" id="productPrize" name="pPrize" th:value="${pPrize}" >
							<input type="text" id="productImg"  name="pImg" th:value="${pImg}" >
							<input type="text" class="form-check-input"
							 />
										</div>
									</div>
									<p>
										<input type="submit" value="Add to cart"
										
										
										
										th:data_id="|${product.id}|"
						th:data_name="|${product.productName}|"
						th:data_prize="|${product.productPrize}|"
						th:data_stock="|${product.productStock}|"
						th:data_imgUrl="|${product.productImageUrl}|"
						th:onclick="|return show_modal_product(this.getAttribute('data_id'),this.getAttribute('data_name'),
                     this.getAttribute('data_prize'),this.getAttribute('data_stock'),this.getAttribute('data_imgUrl'));|"
										
										
										
										
										
										 name="cart" class="btn btn-outline-dark mt-auto" />
									</p>
								</form>
							</div>
						</div>
					</div>
				</div>
			</section>
		</div>
		<!-- Bootstrap core JS-->
		<script
			src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
		<!-- Core theme JS-->
	</body>
<script type="text/javascript">
//product register


 function show_modal_product(id,productName,productPrize,productStock,productImageUrl)
        {
            //document.getElementById("delete_product").value = id;
            //var show =document.getElementById("productName").value = productName;
           //show.value;
            //document.form['toCart'].getElementById("productPrize").value = productPrize;
            //document.form['toCart'].getElementById("productImg").value = productImageUrl;
            //var show = document.form3.pName.value;

            //var show = document.form3.pName.value;
           //show.value = productName;
          document.forms.form3.pName.value = productName;
          document.forms.form3.pPrize.value = productPrize;
          document.forms.form3.pImg.value = productImageUrl;
            //document.toCart.pName.value= productName;
            //document.toCart.pPrize.value= productPrize;
            //document.toCart.pImg.value= productImageUrl;
            
            //document.getElementById("proName").innerHTML = "商品名："+productName;
           //document.getElementById("proPrize").innerHTML = "単価："+productPrize+"円";
           // document.getElementById("p1").innerHTML = "New text!";
            //document.getElementById("proStock").innerHTML = "在庫数量："+productStock;
            //if(productImageUrl!==null){
            //document.getElementById("proImg").src =productImageUrl;
            //}
            //var message = id+productName+productPrize+productStock;
           // alert(message);
            return true;
        }
        

</script>
</section>
</html>
